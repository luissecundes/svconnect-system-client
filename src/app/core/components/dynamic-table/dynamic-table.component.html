<div class="col-12">
  <div class="card">
    <div class="table-responsive">
      <table class="table table-hover mb-0">
        <thead>
          <tr>
            <th *ngIf="showSelectionColumn">
              <input type="checkbox" (change)="toggleSelectAll($event)" [checked]="selectedItems.size === data.length" />
            </th>
            <th *ngFor="let col of columns" (click)="sortData(col.key)">
              {{ col.label }}
              <span *ngIf="isSorted(col.key)">
                <i [class]="sortDirection === 'asc' ? 'fas fa-arrow-up' : 'fas fa-arrow-down'"></i>
              </span>
            </th>
            <th *ngIf="actions.length > 0">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of data; trackBy: trackItem">
            <td *ngIf="showSelectionColumn">
              <input type="checkbox" (change)="toggleSelectItem(item)" [checked]="isSelected(item)" />
            </td>
            <td *ngFor="let col of columns">{{ item[col.key] }}</td>
            <td *ngIf="actions.length > 0">
              <div class="btn-group btn-group-sm">
                <button *ngFor="let action of actions" class="btn btn-outline-secondary" (click)="action.action(item)" [title]="action.tooltip">
                  <i [class]="action.icon"></i>
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
